{% extends "main.html" %}
{% load static %}
{% load home_tags %}
{% load cache %}
{% block test_active %}active{% endblock %}
{% block title %}Test{% endblock %}

{% block head %}{% endblock %}

{% block body %}

    <h1>Test Page</h1>

    <p class="lead">Options:</p>

    <p>
        <a href="{% url 'home:test_view_pk' 1 %}">1</a> |
        <a href="{% url 'home:test_view_pk' 2 %}">2</a> |
        <a href="{% url 'home:test_view_pk' 3 %}">3</a> |
        <a href="{% url 'home:test_view_pk' 4 %}">4</a> |
        <a href="{% url 'home:test_view_pk' 5 %}" class="text-danger">5</a>
    </p>

    <hr>

    <p class="lead">Non-DB Data:</p>

    <h4>PK: {{ pk }}</h4>

    <hr>

{#    <button type="button" class="btn btn-primary" id="liveToastBtn">Show live toast</button>#}
{##}
{#    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">#}
{#      <div class="toast-header">#}
{#        <img src="..." class="rounded me-2" alt="...">#}
{#        <strong class="me-auto">Bootstrap</strong>#}
{#        <small>11 mins ago</small>#}
{#        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>#}
{#      </div>#}
{#      <div class="toast-body">#}
{#        Hello, world! This is a toast message.#}
{#      </div>#}
{#    </div>#}
{##}
{#    {% block messages %}{% if messages %}#}
{#        <h4>Messages</h4>#}
{#        <hr>#}
{#        {% for message in messages %}#}
{#            message#}
{#        {% endfor %}#}
{#                    {{ message|json_script:"message" }}#}
{##}
{#        <hr>#}
{#        {% for message in messages %}#}
{#            <div class="alert alert-{{ message.tags }} alert-dismissible fade show mt-2" role="alert">#}
{#                {{ message }} <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>#}
{#            </div>#}
{#        {% endfor %}#}
{#    {% endif %}{% endblock %}#}

    <script>
    </script>

{% if pk %}
{% cache 86400 test_body pk %}

    <hr>

    <p class="lead">DB Data (cached):</p>

    {% if data %}
        <h4>data.0.pk: {{ data.0.pk }}</h4>
        <pre><code>{{ data.0 }}</code></pre>
    {% else %}
        <h4>No Data</h4>
    {% endif %}

{% endcache %}
{% endif %}

{% endblock %}

{% block tail %}{% endblock %}
